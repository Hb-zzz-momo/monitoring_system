# UI 界面说明 / UI Interface Guide

## 底部导航栏 / Bottom Navigation Bar

应用主界面包含 5 个底部导航标签：

```
┌─────────────────────────────────────────────┐
│                                             │
│              [应用内容区域]                  │
│                                             │
├─────────────────────────────────────────────┤
│  3D设备  │ 实时监测 │ 告警/工单 │ AI助手 │ 我的 │
│  [📦]   │  [📊]   │  [⚠️]   │ [🤖]  │ [👤] │
└─────────────────────────────────────────────┘
```

## 1. AI 助手页面 / AI Assistant Screen

### 初始配置界面
```
┌─────────────────────────────────────────────┐
│ [<]  AI 专家助手            [🗑️] [⚙️]       │
├─────────────────────────────────────────────┤
│                                             │
│                   [🤖]                      │
│                 80x80 图标                  │
│                                             │
│            欢迎使用 AI 专家助手              │
│                                             │
│       请先配置 OpenAI API Key 以开始使用     │
│                                             │
│          [⚙️ 配置 API Key]                  │
│           蓝色按钮 (大)                      │
│                                             │
└─────────────────────────────────────────────┘
```

### 聊天界面
```
┌─────────────────────────────────────────────┐
│ [<] 🤖 AI 专家助手          [🗑️] [⚙️]       │
├─────────────────────────────────────────────┤
│ [工单建议] [告警分析] [预测维护] [设备诊断]   │ ← 快捷操作
├─────────────────────────────────────────────┤
│                                             │
│  ┌────────────────────────────────────┐    │
│  │ 🤖 AI 助手                         │    │
│  │ 您好！我是专家助手，有什么可以帮您？│    │ ← AI 消息
│  │                           10:30    │    │
│  └────────────────────────────────────┘    │
│                                             │
│              ┌──────────────────────┐      │
│              │ 帮我分析当前告警情况    │      │ ← 用户消息
│              │                10:31 │      │
│              └──────────────────────┘      │
│                                             │
├─────────────────────────────────────────────┤
│ [_____输入您的问题..._____________] [📤]    │
└─────────────────────────────────────────────┘
```

### API Key 配置对话框
```
┌─────────────────────────────────────┐
│  配置 OpenAI API                    │
├─────────────────────────────────────┤
│  请输入您的 OpenAI API Key:         │
│                                     │
│  ┌───────────────────────────────┐ │
│  │ sk-...                        │ │
│  └───────────────────────────────┘ │
│                                     │
│  注意: API Key 将存储在本地         │
│                                     │
├─────────────────────────────────────┤
│              [取消]  [保存]         │
└─────────────────────────────────────┘
```

## 2. 告警详情页面 (含 AI 分析) / Alarm Detail with AI

```
┌─────────────────────────────────────────────┐
│ [<]  告警详情                               │
├─────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────┐ │
│ │ [告警] 部件过温                          │ │
│ │                                         │ │
│ │ 设备      电机 A                        │ │
│ │ 部件      冷却风扇                      │ │
│ │ 当前值    85.2°C                       │ │
│ │ 阈值      75.0°C                       │ │
│ │ 触发时间  2024-02-11 10:30:45          │ │
│ └─────────────────────────────────────────┘ │
│                                             │
│ ┌─────────────────────────────────────────┐ │
│ │ [🤖] AI 告警分析           [分析] [▼]   │ │
│ ├─────────────────────────────────────────┤ │
│ │  正在分析中...                          │ │
│ │  [⭕ 加载动画]                          │ │
│ │  AI 正在分析告警...                     │ │
│ └─────────────────────────────────────────┘ │
│                                             │
│ [生成工单] [已处理]                          │
└─────────────────────────────────────────────┘
```

### AI 分析结果展开
```
┌─────────────────────────────────────────────┐
│ ┌─────────────────────────────────────────┐ │
│ │ [🤖] AI 告警分析                    [▲]  │ │
│ ├─────────────────────────────────────────┤ │
│ │ ┌───────────────────────────────────┐   │ │
│ │ │ [💡] AI 分析结果                  │   │ │
│ │ │                                   │   │ │
│ │ │ 根据告警信息分析：                 │   │ │
│ │ │                                   │   │ │
│ │ │ 1. 根本原因：                     │   │ │
│ │ │    - 冷却系统效率降低...           │   │ │
│ │ │                                   │   │ │
│ │ │ 2. 风险评估：                     │   │ │
│ │ │    - 可能导致设备损坏...           │   │ │
│ │ │                                   │   │ │
│ │ │ 3. 建议措施：                     │   │ │
│ │ │    - 立即检查冷却风扇...           │   │ │
│ │ └───────────────────────────────────┘   │ │
│ │                                         │ │
│ │ [🔄 重新分析]  [📝 创建工单]            │ │
│ └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

## 3. 工单创建页面 (含 AI 建议) / Work Order with AI

```
┌─────────────────────────────────────────────┐
│ [<]  创建工单                               │
├─────────────────────────────────────────────┤
│ 工单信息                                    │
│                                             │
│ 设备名称: [电机 A        ] (禁用)           │
│ 部件名称: [冷却风扇      ] (禁用)           │
│ 告警类型: [过温告警      ] (禁用)           │
│ 问题描述: [请输入问题描述...              ] │
│          [                                ] │
│ 优先级:   [高 ▼]                           │
│                                             │
│ ┌─────────────────────────────────────────┐ │
│ │ [🤖] AI 工单建议      [获取建议]        │ │
│ ├─────────────────────────────────────────┤ │
│ │ 点击"获取建议"让 AI 分析并提供工单建议   │ │
│ └─────────────────────────────────────────┘ │
│                                             │
│ 处理措施                                    │
│ ┌─────────────────────────────────────────┐ │
│ │ ☐ 检查冷却风扇运行状态                   │ │
│ │ ☐ 清理散热器灰尘                        │ │
│ │ ☐ 测量风扇转速                          │ │
│ │ ☐ 更换故障风扇（如需要）                │ │
│ └─────────────────────────────────────────┘ │
│                                             │
│ [取消]              [创建工单]              │
└─────────────────────────────────────────────┘
```

### AI 建议展开
```
┌─────────────────────────────────────────────┐
│ ┌─────────────────────────────────────────┐ │
│ │ [🤖] AI 工单建议                        │ │
│ ├─────────────────────────────────────────┤ │
│ │ ┌───────────────────────────────────┐   │ │
│ │ │ 基于告警信息，建议的工单操作：       │   │ │
│ │ │                                   │   │ │
│ │ │ 1. 立即行动：                     │   │ │
│ │ │    • 检查风扇转速               │   │ │
│ │ │    • 清理散热器                 │   │ │
│ │ │                                   │   │ │
│ │ │ 2. 所需备件：                     │   │ │
│ │ │    • 冷却风扇 (型号: FAN-001)    │   │ │
│ │ │    • 散热硅脂 (5g)               │   │ │
│ │ │                                   │   │ │
│ │ │ 3. 预计时间：2-3小时              │   │ │
│ │ │                                   │   │ │
│ │ │ 4. 优先级：高                     │   │ │
│ │ └───────────────────────────────────┘   │ │
│ │                                         │ │
│ │ [🔄 重新生成]  [✓ 应用建议]            │ │
│ └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

## 4. 告警/工单主页面 / Alarm & Work Order Tab

```
┌─────────────────────────────────────────────┐
│ 告警/工单                                    │
├─────────────────────────────────────────────┤
│    [告警中心]    [工单列表]                  │
├─────────────────────────────────────────────┤
│ 告警示例                                    │
│                                             │
│ ┌─────────────────────────────────────────┐ │
│ │ [│] 部件过温告警              10:30     │ │
│ │     电机 A - 温度超过阈值                │ │
│ ├─────────────────────────────────────────┤ │
│ │        [🤖 AI 告警分析]                 │ │
│ └─────────────────────────────────────────┘ │
│                                             │
└─────────────────────────────────────────────┘
```

## 颜色规范 / Color Scheme

- **主色 Primary**: RGB(39, 99, 255) - 蓝色
- **成功 Success**: RGB(18, 183, 106) - 绿色
- **警告 Warning**: RGB(245, 158, 11) - 橙色
- **危险 Danger**: RGB(240, 68, 56) - 红色
- **背景 Background**: RGB(245, 247, 250) - 浅灰
- **卡片 Card**: RGB(255, 255, 255) - 白色

## 图标使用 / Icon Usage

- 🤖 AI 助手 / AI Assistant
- 📦 3D 设备 / 3D Device
- 📊 实时监测 / Real-time Monitoring
- ⚠️ 告警 / Alarm
- 👤 个人 / Profile
- 🗑️ 清除 / Clear
- ⚙️ 设置 / Settings
- 💡 建议 / Suggestion
- 🔄 刷新 / Refresh
- ✓ 确认 / Confirm

## 交互流程 / Interaction Flow

### AI 助手使用流程
1. 点击底部导航栏的 "AI 助手"
2. 首次使用需要配置 API Key
3. 使用快捷操作或输入问题
4. 查看 AI 响应
5. 继续对话或清除历史

### AI 告警分析流程
1. 进入告警详情页面
2. 点击 "AI 告警分析" 按钮
3. 等待 AI 分析完成
4. 查看分析结果
5. 选择创建工单或标记已处理

### AI 工单建议流程
1. 创建新工单
2. 填写基本信息
3. 点击 "获取建议" 按钮
4. 查看 AI 建议
5. 选择应用建议或重新生成
6. 完成工单创建
